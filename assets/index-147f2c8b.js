(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function I(){}function me(t){return t()}function ie(){return Object.create(null)}function M(t){t.forEach(me)}function he(t){return typeof t=="function"}function te(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function be(t){return Object.keys(t).length===0}function b(t,e){t.appendChild(e)}function T(t,e,n){t.insertBefore(e,n||null)}function D(t){t.parentNode&&t.parentNode.removeChild(t)}function w(t){return document.createElement(t)}function U(t){return document.createTextNode(t)}function S(){return U(" ")}function O(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function _(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ye(t){return Array.from(t.childNodes)}function ne(t,e){e=""+e,t.data!==e&&(t.data=e)}function se(t,e){t.value=e??""}function $e(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,o,e),r}let F;function H(t){F=t}function pe(){if(!F)throw new Error("Function called outside component initialization");return F}function we(t){pe().$$.on_mount.push(t)}function _e(){const t=pe();return(e,n,{cancelable:o=!1}={})=>{const r=t.$$.callbacks[e];if(r){const s=$e(e,n,{cancelable:o});return r.slice().forEach(l=>{l.call(t,s)}),!s.defaultPrevented}return!0}}const q=[],le=[];let B=[];const ce=[],ke=Promise.resolve();let Y=!1;function ve(){Y||(Y=!0,ke.then(ge))}function Z(t){B.push(t)}const W=new Set;let C=0;function ge(){if(C!==0)return;const t=F;do{try{for(;C<q.length;){const e=q[C];C++,H(e),Ee(e.$$)}}catch(e){throw q.length=0,C=0,e}for(H(null),q.length=0,C=0;le.length;)le.pop()();for(let e=0;e<B.length;e+=1){const n=B[e];W.has(n)||(W.add(n),n())}B.length=0}while(q.length);for(;ce.length;)ce.pop()();Y=!1,W.clear(),H(t)}function Ee(t){if(t.fragment!==null){t.update(),M(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Z)}}function De(t){const e=[],n=[];B.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),B=e}const G=new Set;let L;function Ne(){L={r:0,c:[],p:L}}function Se(){L.r||M(L.c),L=L.p}function x(t,e){t&&t.i&&(G.delete(t),t.i(e))}function K(t,e,n,o){if(t&&t.o){if(G.has(t))return;G.add(t),L.c.push(()=>{G.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}function Te(t,e){K(t,1,1,()=>{e.delete(t.key)})}function Oe(t,e,n,o,r,s,l,i,u,c,m,h){let f=t.length,a=s.length,d=f;const $={};for(;d--;)$[t[d].key]=d;const k=[],P=new Map,A=new Map,y=[];for(d=a;d--;){const p=h(r,s,d),v=n(p);let E=l.get(v);E?o&&y.push(()=>E.p(p,e)):(E=c(v,p),E.c()),P.set(v,k[d]=E),v in $&&A.set(v,Math.abs(d-$[v]))}const g=new Set,N=new Set;function j(p){x(p,1),p.m(i,m),l.set(p.key,p),m=p.first,a--}for(;f&&a;){const p=k[a-1],v=t[f-1],E=p.key,R=v.key;p===v?(m=p.first,f--,a--):P.has(R)?!l.has(E)||g.has(E)?j(p):N.has(R)?f--:A.get(E)>A.get(R)?(N.add(E),j(p)):(g.add(R),f--):(u(v,l),f--)}for(;f--;){const p=t[f];P.has(p.key)||u(p,l)}for(;a;)j(k[a-1]);return M(y),k}function ee(t){t&&t.c()}function J(t,e,n,o){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),o||Z(()=>{const l=t.$$.on_mount.map(me).filter(he);t.$$.on_destroy?t.$$.on_destroy.push(...l):M(l),t.$$.on_mount=[]}),s.forEach(Z)}function Q(t,e){const n=t.$$;n.fragment!==null&&(De(n.after_update),M(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Pe(t,e){t.$$.dirty[0]===-1&&(q.push(t),ve(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function oe(t,e,n,o,r,s,l,i=[-1]){const u=F;H(t);const c=t.$$={fragment:null,ctx:[],props:s,update:I,not_equal:r,bound:ie(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:ie(),dirty:i,skip_bound:!1,root:e.target||u.$$.root};l&&l(c.root);let m=!1;if(c.ctx=n?n(t,e.props||{},(h,f,...a)=>{const d=a.length?a[0]:f;return c.ctx&&r(c.ctx[h],c.ctx[h]=d)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](d),m&&Pe(t,h)),f}):[],c.update(),m=!0,M(c.before_update),c.fragment=o?o(c.ctx):!1,e.target){if(e.hydrate){const h=ye(e.target);c.fragment&&c.fragment.l(h),h.forEach(D)}else c.fragment&&c.fragment.c();e.intro&&x(t.$$.fragment),J(t,e.target,e.anchor,e.customElement),ge()}H(u)}class re{$destroy(){Q(this,1),this.$destroy=I}$on(e,n){if(!he(n))return I;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(e){this.$$set&&!be(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Le=t=>new Promise((e,n)=>{const{dbName:o,dbVersion:r,storeName:s,initialData:l}=t,i=window.indexedDB.open(o,r);i.onerror=()=>{n(new Error("Database error"))},i.onupgradeneeded=u=>{const c=u.target.result;if(!c.objectStoreNames.contains(s)){const h=c.createObjectStore(s,{keyPath:"id",autoIncrement:!0});l.length&&l.forEach(f=>{h.add(f)})}},i.onsuccess=u=>{const c=u.target.result;e(c)}}),X={dbName:"todoDb",dbVersion:1,storeName:"todoStore",initialData:[{title:"make todo app",parent:null,is_done:!0},{title:"deploy to github pages",parent:null,is_done:!0},{title:"take a nap",parent:null,is_done:!1}]},V=async(t="readonly")=>(await Le(X)).transaction([X.storeName],t).objectStore(X.storeName),z={async getAll(){const t=await V();return new Promise((e,n)=>{const o=t.getAll();o.onsuccess=()=>e(o.result),o.onerror=()=>n(o.error)})},async create(t){const e=await V("readwrite");return new Promise((n,o)=>{const r=e.add(t);r.onsuccess=()=>n(r.result),r.onerror=()=>o(r.error)})},async patch(t,e){const n=await V("readwrite");return new Promise((o,r)=>{const s=n.get(t);s.onsuccess=()=>{const l=s.result;Object.entries(e).forEach(([u,c])=>{l[u]=c});const i=n.put(l);i.onsuccess=()=>o(i.result),i.onerror=()=>r(i.error)},s.onerror=()=>r(s.error)})},async setIsDone(t,e){return this.patch(t,{is_done:e})},async delete(t){const e=await V("readwrite");return new Promise((n,o)=>{const r=e.delete(t);r.onsuccess=()=>{n()},r.onerror=()=>o(r.error)})}};function Ie(t){let e,n,o;return{c(){e=w("button"),e.innerHTML='<div class="i-ph-circle-bold">no</div>',_(e,"class","bg-transparent p-2")},m(r,s){T(r,e,s),n||(o=O(e,"click",t[1]),n=!0)},p:I,d(r){r&&D(e),n=!1,o()}}}function Me(t){let e,n,o;return{c(){e=w("button"),e.innerHTML='<div class="i-ph-check-circle-fill">done</div>',_(e,"class","bg-transparent p-2")},m(r,s){T(r,e,s),n||(o=O(e,"click",t[1]),n=!0)},p:I,d(r){r&&D(e),n=!1,o()}}}function Ae(t){let e,n=t[0].title+"",o,r,s;return{c(){e=w("button"),o=U(n),_(e,"class","bg-transparent grow-1 text-left")},m(l,i){T(l,e,i),b(e,o),r||(s=O(e,"click",t[1]),r=!0)},p(l,i){i&1&&n!==(n=l[0].title+"")&&ne(o,n)},d(l){l&&D(e),r=!1,s()}}}function je(t){let e,n=t[0].title+"",o,r,s;return{c(){e=w("button"),o=U(n),_(e,"class","bg-transparent line-through grow-1 text-left")},m(l,i){T(l,e,i),b(e,o),r||(s=O(e,"click",t[1]),r=!0)},p(l,i){i&1&&n!==(n=l[0].title+"")&&ne(o,n)},d(l){l&&D(e),r=!1,s()}}}function Ce(t){let e,n,o,r,s,l;function i(a,d){return a[0].is_done?Me:Ie}let u=i(t),c=u(t);function m(a,d){return a[0].is_done?je:Ae}let h=m(t),f=h(t);return{c(){e=w("div"),c.c(),n=S(),f.c(),o=S(),r=w("button"),r.innerHTML='<div class="i-ph-trash"></div>',_(r,"class","bg-transparent pl-2"),_(e,"class","flex items-center")},m(a,d){T(a,e,d),c.m(e,null),b(e,n),f.m(e,null),b(e,o),b(e,r),s||(l=O(r,"click",t[2]),s=!0)},p(a,[d]){u===(u=i(a))&&c?c.p(a,d):(c.d(1),c=u(a),c&&(c.c(),c.m(e,n))),h===(h=m(a))&&f?f.p(a,d):(f.d(1),f=h(a),f&&(f.c(),f.m(e,o)))},i:I,o:I,d(a){a&&D(e),c.d(),f.d(),s=!1,l()}}}function qe(t,e,n){const o=_e();let{item:r}=e;function s(){o("click",r)}function l(){o("delete",r)}return t.$$set=i=>{"item"in i&&n(0,r=i.item)},[r,s,l]}class Be extends re{constructor(e){super(),oe(this,e,qe,Ce,te,{item:0})}}function ue(t,e,n){const o=t.slice();return o[4]=e[n],o}function ae(t,e){let n,o,r,s;return o=new Be({props:{item:e[4]}}),o.$on("click",e[1]),o.$on("delete",e[2]),{key:t,first:null,c(){n=w("li"),ee(o.$$.fragment),r=S(),this.first=n},m(l,i){T(l,n,i),J(o,n,null),b(n,r),s=!0},p(l,i){e=l;const u={};i&1&&(u.item=e[4]),o.$set(u)},i(l){s||(x(o.$$.fragment,l),s=!0)},o(l){K(o.$$.fragment,l),s=!1},d(l){l&&D(n),Q(o)}}}function xe(t){let e,n=[],o=new Map,r,s=t[0];const l=i=>i[4].id;for(let i=0;i<s.length;i+=1){let u=ue(t,s,i),c=l(u);o.set(c,n[i]=ae(c,u))}return{c(){e=w("ul");for(let i=0;i<n.length;i+=1)n[i].c();_(e,"class","mb-6")},m(i,u){T(i,e,u);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);r=!0},p(i,[u]){u&7&&(s=i[0],Ne(),n=Oe(n,u,l,1,i,s,o,e,Te,ae,null,ue),Se())},i(i){if(!r){for(let u=0;u<s.length;u+=1)x(n[u]);r=!0}},o(i){for(let u=0;u<n.length;u+=1)K(n[u]);r=!1},d(i){i&&D(e);for(let u=0;u<n.length;u+=1)n[u].d()}}}function He(t,e,n){const o=_e();let{items:r}=e;function s(i){o("itemtoggle",i.detail)}function l(i){o("itemdelete",i.detail)}return t.$$set=i=>{"items"in i&&n(0,r=i.items)},[r,s,l]}class fe extends re{constructor(e){super(),oe(this,e,He,xe,te,{items:0})}}function de(t){let e;return{c(){e=w("h2"),e.textContent="Done",_(e,"font","bold"),_(e,"text","lg"),_(e,"m","b-2")},m(n,o){T(n,e,o)},d(n){n&&D(e)}}}function Fe(t){let e,n,o,r=(console.log(t[2]),""),s,l,i,u,c,m,h,f,a,d,$,k,P,A;i=new fe({props:{items:t[2]}}),i.$on("itemtoggle",t[3]),i.$on("itemdelete",t[4]);let y=t[1].length&&de();return m=new fe({props:{items:t[1]}}),m.$on("itemtoggle",t[3]),m.$on("itemdelete",t[4]),{c(){e=w("main"),n=w("h2"),n.textContent="Todo",o=S(),s=U(r),l=S(),ee(i.$$.fragment),u=S(),y&&y.c(),c=S(),ee(m.$$.fragment),h=S(),f=w("div"),a=w("input"),d=S(),$=w("button"),$.innerHTML='<div class="i-ph-plus-bold">add</div>',_(n,"font","bold"),_(n,"text","lg"),_(n,"m","b-2"),_(a,"class","text-black grow-1 rounded-l px-2 py-1"),_($,"class","bg-orange hover:bg-orange-600 p-2 rounded-r"),_(f,"class","flex"),_(e,"max-w","md"),_(e,"h","full"),_(e,"m","x-auto"),_(e,"p","4"),_(e,"relative","~")},m(g,N){T(g,e,N),b(e,n),b(e,o),b(e,s),b(e,l),J(i,e,null),b(e,u),y&&y.m(e,null),b(e,c),J(m,e,null),b(e,h),b(e,f),b(f,a),se(a,t[0]),b(f,d),b(f,$),k=!0,P||(A=[O(a,"input",t[8]),O(a,"keydown",t[6]),O($,"click",t[5])],P=!0)},p(g,[N]){(!k||N&4)&&r!==(r=(console.log(g[2]),""))&&ne(s,r);const j={};N&4&&(j.items=g[2]),i.$set(j),g[1].length?y||(y=de(),y.c(),y.m(e,c)):y&&(y.d(1),y=null);const p={};N&2&&(p.items=g[1]),m.$set(p),N&1&&a.value!==g[0]&&se(a,g[0])},i(g){k||(x(i.$$.fragment,g),x(m.$$.fragment,g),k=!0)},o(g){K(i.$$.fragment,g),K(m.$$.fragment,g),k=!1},d(g){g&&D(e),Q(i),y&&y.d(),Q(m),P=!1,M(A)}}}function Ke(t,e,n){let o,r,s=[],l="";we(()=>{i()});async function i(){const d=await z.getAll();n(7,s=d)}async function u(){await z.create({title:l,parent:null,is_done:!1}),n(0,l=""),i()}async function c(d){const $=d.detail;await z.setIsDone($.id,!$.is_done),i()}async function m(d){const $=d.detail;await z.delete($.id),i()}async function h(){u()}const f=d=>{d.key==="Enter"&&u()};function a(){l=this.value,n(0,l)}return t.$$.update=()=>{t.$$.dirty&128&&n(2,o=s.filter(d=>!d.is_done)),t.$$.dirty&128&&n(1,r=s.filter(d=>d.is_done))},[l,r,o,c,m,h,f,s,a]}class Re extends re{constructor(e){super(),oe(this,e,Ke,Fe,te,{})}}new Re({target:document.getElementById("app")});
